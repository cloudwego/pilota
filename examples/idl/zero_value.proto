syntax = "proto3";

import "pilota.proto";
import "rustproto.proto";
import "google/protobuf/descriptor.proto";

message B {
    string s3 = 1;
}

message C {
    optional string s4 = 1;
    repeated B bb = 2[(pilota.rust_wrapper_arc) = true];
}

message A {
    C c = 4[deprecated = true];
    B b = 3[(pilota.rust_wrapper_arc) = true];
    map<string, string> str_map = 1[(rustproto.btreemap_field) = true];
     string s1 = 2;
    optional string s2 = 2047;
}

message BB {
    option deprecated = true;
}

message CC {
    optional string s4 = 1;
}

message UnknownA {
     BB b = 3;
     CC c = 4;
}


service TestService {
    option deprecated = true;
    rpc Echo(A) returns (A) {}
}